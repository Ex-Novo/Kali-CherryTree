<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Enumerating SMB</title>
</head><body>&nbsp; &nbsp; &nbsp; &nbsp; <b>Enumerating SMB</b><br/>
<br/>
<b>SMB:</b><br/>
File Share protocol<br/>
<img src="1.png" /><br/>
<br/>
<img src="2.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\1.png" /><br/>
<br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\2.png" /><br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<b>Metasploit</b>&nbsp;<b>(msfconsole)</b>:<br/>
<img src="3.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\3.png" /><br/>
<br/>
Type <b>“search smb”</b>&nbsp;to look for SMB modules to use:<br/>
Auxiliary modules are used to get info <br/>
<img src="4.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\4.png" /><br/>
<br/>
<br/>
Type the <b>“use"</b>&nbsp;command with module to use it and the <b>“info”</b>&nbsp;command to know more about the module<br/>
<img src="1 2.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\5.png" /><br/>
<br/>
With the <b>“options”</b>&nbsp;command simply display the modules options<br/>
<img src="2 2.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\6.png" /><br/>
<br/>
Use the <b>“set”</b>&nbsp;command to set up options and <b>“run”</b>&nbsp;to execute the module<br/>
<img src="3 2.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\7.png" />&nbsp;<br/>
<br/>
<br/>
<br/>
<br/>
<b>SMBClient:</b><br/>
<br/>
Command that allow you to connect at your SMB Server (anon way)<br/>
<br/>
With <b>“'-L"</b>&nbsp;option, we ask for directory listing (we need the <b>\\\\IP_OR_DOMAIN\\</b>&nbsp;or <b>\\IP_OR_DOMAIN</b>&nbsp;syntax)<br/>
If asked for a password, just press Enter (no password)<br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\8.png" /><br/>
<img src="1 3.png" /><br/>
<br/>
<br/>
From here, we can choose <b>IPC$</b>&nbsp;or <b>ADMIN$</b>&nbsp;Sharename:<br/>
With no password, in ADMIN$, we get <b><i>NT_STATUS_WRONG_PASSWORD</i>&nbsp;(Wrong Password)</b><br/>
With no password, in IPC$, we actually log in but we can't get more info wit <b>ls</b>!!!<br/>
<img src="2.1.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\9.png" /><br/>
<br/>
<img src="2.2.png" /><br/>
<br/>
<img src="2.3.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\10.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\11.png" /></body></html>