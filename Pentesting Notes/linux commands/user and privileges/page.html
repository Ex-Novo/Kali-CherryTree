<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>User and Privileges</title>
</head><body><span style="font-size: 15pt">&nbsp; &nbsp; &nbsp; &nbsp; <b>User Privileges: Theory<br/>
</b><b><br/>
</b><b>Let's start with and example, see left colored columns:</b><br/>
<img src="1.png" /><br/>
<img src="file://c:\users\ex-novo\appdata\local\temp\tmpoha9a4\1.png" /><br/>
<br/>
<b>Legend:<br/>
</b><b>&nbsp;r</b>&nbsp;= Read<br/>
&nbsp;<b>w</b>&nbsp;= Write<br/>
&nbsp;<b>x</b>&nbsp;= Execute<br/>
&nbsp;<br/>
<b>Show Order:<br/>
</b><b>&nbsp;r,w,x</b>&nbsp;(The dash is shown for the <b>unset permission</b>: E.G. “.” and “..” have no Group writing permission)<br/>
<br/>
<br/>
<br/>
<b>Permissions Order (see colored columns):</b><br/>
&nbsp;<b>"UGO":</b><br/>
&nbsp;<span style="color: #fd3333"><b>File Type (If specified, as an example: <i>“d”</i>&nbsp;stands for directory)</b></span><br/>
&nbsp;<span style="color: #00ff00"><b>User (Owner)</b></span><br/>
&nbsp;<span style="color: #ffff00"><b>Group (Owner's Group)</b></span><br/>
&nbsp;<span style="color: #1e90ff"><b>Others</b></span>&nbsp;<br/>
<br/>
<br/>
<b>Permissions as numbers </b>(for "<i>chmod</i>" command):<br/>
&nbsp;<b>0</b>&nbsp;– No permission<br/>
&nbsp;<b>1</b>&nbsp;– Execute<br/>
&nbsp;<b>2</b>&nbsp;– Write<br/>
&nbsp;<b>3</b>&nbsp;– Write &amp; Execute <b>(2+1)</b><br/>
&nbsp;<b>4</b>&nbsp;– Read<br/>
&nbsp;<b>5</b>&nbsp;– Read &amp; Execute <b>(4+1)</b><br/>
&nbsp;<b>6</b>&nbsp;– Read &amp; Write <b>(4+2)</b><br/>
&nbsp;<b>7 – </b>Read, Write, &amp; Execute <b>(4+2+1)</b><br/>
<br/>
<br/>
<b>Permissions as letters </b>&nbsp;(for "chmod" commands):<br/>
<br/>
<b>Syntax (Legend):</b><br/>
&nbsp;<b>u</b>&nbsp;= <span style="color: #00ff00"><b>User (Owner)</b></span><br/>
&nbsp;<b>&nbsp;g</b>&nbsp;= <span style="color: #ffff00"><b>Group (Owner's Group)</b></span><br/>
&nbsp;<b>o</b>&nbsp;= <span style="color: #1e90ff"><b>Others</b></span>&nbsp;<br/>
<br/>
<br/>
&nbsp;<b>chmod (ugo+rwx) (file)</b>&nbsp;# With “+”, you add permissions<br/>
&nbsp;<b>&nbsp;chmod (ugo-rwx) (file)</b>&nbsp;# With “-”, you remove permissions<br/>
<br/>
<br/>
<b>(Remember: “root” account have all permissions and can do litteraly everything !!)</b><br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<b>Basic user management commands:</b><br/>
<br/>
(For pentesting reasons: Usually <b>/tmp</b>&nbsp;folder has full access)<br/>
<br/>
<br/>
<br/>
<b>Show permissions on files/directories:</b><br/>
&nbsp;<b>ls -la</b>&nbsp;# List all files and <b>“-l”</b>&nbsp;show permissions<br/>
<br/>
<br/>
<br/>
<br/>
<b>Add an user:</b><br/>
&nbsp;<b>adduser bob</b>&nbsp;# Create an user called <b>“bob”</b><br/>
<br/>
<br/>
<br/>
<br/>
<b>Change an user password:</b><br/>
&nbsp;<b>passwd</b>&nbsp;# Change your password<br/>
&nbsp;<b>passwd <i>bob</i>&nbsp;</b>&nbsp;# Change bob's password (you actually need the permissions to do that)<br/>
<br/>
<br/>
<br/>
<br/>
<b>Change user:</b><br/>
&nbsp;<b>su bob</b>&nbsp;# <b><i>su = Switching User</i></b>, switch to <b>bob</b>&nbsp;user (you may asked to provide his password)<br/>
&nbsp;<br/>
&nbsp;<br/>
&nbsp;<br/>
<b>SuperUser Do Commands:</b><br/>
&nbsp;<b>sudo “command”</b>&nbsp;# You gain the permission in <b><i>/etc/sudoers</i></b>&nbsp;to execute the <b>“command”</b><br/>
<br/>
<br/>
<br/>
&nbsp;<br/>
<b>Change permission to file/directories:</b><br/>
<b>(See <u>"Permissions as numbers<a href="Pentesting_with_Kali_Linux--Linux_Commands--User_and_Privileges.html#pan">"</a></u>&nbsp;written before !!)</b><br/>
&nbsp;<b>chmod 777 <i>file.txt</i></b><i>&nbsp;</i>&nbsp;# Change the permission for <b><i>“file.txt”</i></b>&nbsp;to <b>“rwx”</b>&nbsp;for User, Group and Others<br/>
&nbsp;<b>chmod 755 <i>file.txt</i>&nbsp;</b>&nbsp;# Change the permission for <b><i>“file.txt”</i></b>&nbsp;to <b>“rwx”</b>&nbsp;for User and <b>“r-x”</b>&nbsp;for Group and Others<br/>
&nbsp;<b>chmod 000 <i>file.txt</i></b>&nbsp;# Change the permission for <b><i>“file.txt”</i></b>&nbsp;to <b>“---”</b>&nbsp;for User, Group and Others<br/>
<br/>
<br/>
<b>(See <u>"Permissions as letters"</u>&nbsp;written before !!)</b><br/>
&nbsp;<b>chmod u+x file.txt</b>&nbsp;# Add to “User” the execute permission for <b><i>“file.txt”</i></b><br/>
&nbsp;<b>chmod u-x file.txt</b>&nbsp;# Remove to “User” the execute permission for <b><i>“file.txt”</i></b><br/>
&nbsp;<b>chmod uo-wr file.txt</b>&nbsp;# Remove to “User” and “Others” the writing and reading permission for <b><i>“file.txt”</i></b><br/>
&nbsp;<b>chmod ugo+rwx</b>&nbsp;<b>file.txt</b><br/>
<br/>
<br/>
<br/>
<br/>
<b>Configuration files for users:</b><br/>
&nbsp;<b>cat /etc/passwd</b>&nbsp;# Show all the users <br/>
&nbsp;<b>cat /etc/shadow</b>&nbsp;# Show all users' passwords in a hashed format<br/>
&nbsp;<b>cat /etc/sudoers</b>&nbsp;# Show the list of all sudoers (<b>superuser do</b>)<br/>
<br/>
<br/>
<br/>
<br/>
</span></body></html>